# Pacioli Repository Structure

## Status: IMPLEMENTED

This document describes the current multi-repository structure for the Pacioli project, supporting an open-source freemium model.

**Organization:** [GiveProtocol](https://github.com/GiveProtocol)
**Structure:** 6 repositories (3 public, 3 private)
**License Strategy:** AGPL-3.0 for public repositories, proprietary for private

---

## Repository Overview

| Repository                                                               | Purpose                                         | License     | Status |
| ------------------------------------------------------------------------ | ----------------------------------------------- | ----------- | ------ |
| [pacioli-core](https://github.com/GiveProtocol/Pacioli)                  | Main application (desktop & web)                | AGPL-3.0    | Active |
| [pacioli-plugins](https://github.com/GiveProtocol/pacioli-plugins)       | Plugin system & SDK                             | AGPL-3.0    | Active |
| [pacioli-docs](https://github.com/GiveProtocol/pacioli-docs)             | Documentation site                              | AGPL-3.0    | Active |
| [pacioli-cloud](https://github.com/GiveProtocol/pacioli-cloud)           | Cloud services & sync (Premium)                 | Proprietary | Active |
| [pacioli-enterprise](https://github.com/GiveProtocol/pacioli-enterprise) | Enterprise features (RBAC, Audit, Multi-entity) | Proprietary | Active |
| [pacioli-internal](https://github.com/GiveProtocol/pacioli-internal)     | Internal tools (CI/CD, monitoring, security)    | Private     | Active |

---

## PUBLIC REPOSITORIES

### 1. pacioli-core (Main Application)

**Purpose:** Core open-source crypto accounting platform for Polkadot ecosystem
**License:** AGPL-3.0
**URL:** https://github.com/GiveProtocol/Pacioli

**Tech Stack:**

- Frontend: React 19, TypeScript, Tailwind CSS 4, Vite 7
- Backend: Rust, Tauri 2.0, SQLite
- Blockchain: Polkadot.js API, Ethers.js 6, Hardhat

**Key Features:**

- Multi-chain blockchain tracking (Polkadot, Moonbeam, Moonriver, Astar)
- EVM indexer for transaction history
- Double-entry accounting with chart of accounts
- Wallet integration (MetaMask, Polkadot.js, Talisman)
- Local SQLite database (privacy-first)
- Export to CSV/Excel
- Self-hosting capability

**Structure:**

```
pacioli-core/
├── src/                    # React frontend
│   ├── app/               # Application pages
│   ├── components/        # React components
│   ├── contexts/          # React contexts
│   ├── services/          # API services (auth, blockchain, database)
│   ├── types/             # TypeScript types
│   └── utils/             # Utility functions
├── src-tauri/             # Rust backend
│   ├── src/
│   │   ├── api/          # Tauri command handlers
│   │   ├── core/         # Core modules (auth, email, currency)
│   │   ├── db/           # Database layer
│   │   ├── evm_indexer/  # EVM blockchain indexer
│   │   └── indexer/      # General blockchain indexer
│   └── migrations/        # Database migrations
├── contracts/             # Smart contracts (Solidity)
└── public/               # Static assets
```

---

### 2. pacioli-plugins (Plugin System)

**Purpose:** Extensible plugin framework for community contributions
**License:** AGPL-3.0
**URL:** https://github.com/GiveProtocol/pacioli-plugins

**Capabilities:**

- Custom transaction categorizers
- Import/export format adapters
- Custom report generators
- Blockchain protocol integrations
- Tax calculation modules

**Structure:**

```
pacioli-plugins/
├── packages/
│   ├── plugin-sdk/           # Plugin SDK for developers
│   └── example-plugins/      # Example implementations
├── docs/                     # Plugin development docs
└── README.md
```

---

### 3. pacioli-docs (Documentation)

**Purpose:** Comprehensive user and developer documentation
**License:** AGPL-3.0
**URL:** https://github.com/GiveProtocol/pacioli-docs
**Live Site:** https://docs.pacioli.io

**Contents:**

- User guides (getting started, wallet setup, transactions)
- Developer guides (architecture, contributing, API reference)
- Crypto operations (Polkadot, EVM chains, wallet connections)
- Tutorials and self-hosting guides

---

## PRIVATE REPOSITORIES

### 4. pacioli-cloud (Cloud Services)

**Purpose:** Premium cloud synchronization and backup services
**License:** Proprietary
**Access:** Internal team only

**Features:**

- Cloud sync across devices
- End-to-end encrypted backups
- Multi-device support
- Real-time collaboration (enterprise)

**Structure:**

```
pacioli-cloud/
├── api/                # Cloud API service
├── sync-service/       # Real-time sync
├── storage/           # Encrypted storage
├── client/            # Client library
└── infrastructure/    # Terraform, Docker
```

---

### 5. pacioli-enterprise (Enterprise Features)

**Purpose:** Advanced features for organizations and professional users
**License:** Proprietary
**Access:** Internal team + enterprise customers

**Features:**

- Role-Based Access Control (RBAC)
- Audit trails and compliance logging
- Multi-entity management
- Advanced analytics and reporting
- Approval workflows
- Compliance tools (SOX, GAAP, IFRS)

**Structure:**

```
pacioli-enterprise/
├── rbac/              # Role-based access control
├── audit/             # Audit trail system
├── multi-entity/      # Multi-entity management
├── analytics/         # Advanced analytics
├── workflows/         # Approval workflows
└── compliance/        # Compliance tools
```

---

### 6. pacioli-internal (Internal Tools)

**Purpose:** DevOps tooling, infrastructure, and operational tools
**License:** Private (internal use only)
**Access:** Core team only

> **Note:** This repository was repurposed from the original plan. It now contains DevOps and infrastructure tooling rather than business documents.

**Contents:**

- Infrastructure as Code (Terraform, Kubernetes)
- CI/CD pipelines and deployment scripts
- Monitoring and observability (Prometheus, Grafana, Loki)
- Security scanning and compliance tools
- Internal CLI tools and automation
- Operational runbooks and ADRs

**Structure:**

```
pacioli-internal/
├── infrastructure/    # Terraform, Kubernetes, Ansible
├── ci-cd/            # GitHub Actions, deployment scripts
├── monitoring/       # Prometheus, Grafana, Loki, alerts
├── security/         # Vulnerability scanning, policies
├── tools/            # Internal CLI and automation
└── docs/             # Runbooks, ADRs, processes
```

---

## License Strategy

### Why AGPL-3.0?

The project uses AGPL-3.0 for public repositories (changed from the originally planned MIT/Apache 2.0 dual license) for the following reasons:

1. **Network Copyleft:** Ensures that modifications to Pacioli used in SaaS/cloud deployments must be shared back with the community
2. **Open Source Guarantee:** All derivative works remain open source
3. **Community Protection:** Prevents proprietary forks that don't contribute back

### Implications

- Users can freely use, modify, and distribute Pacioli
- If you modify and deploy Pacioli as a service, you must make source available
- Plugins developed for Pacioli should also be AGPL-3.0 compatible
- Enterprise/cloud features remain proprietary as separate services

---

## Development Workflow

### Local Development Setup

All repositories are cloned to `/home/rb347841/pacioli-repos/`:

```bash
cd ~/pacioli-repos

# Public repositories
pacioli-core/        # Main application
pacioli-plugins/     # Plugin system
pacioli-docs/        # Documentation

# Private repositories (team access required)
pacioli-cloud/       # Cloud services
pacioli-enterprise/  # Enterprise features
pacioli-internal/    # Internal tools
```

### Starting Development

```bash
cd pacioli-core
pnpm install
pnpm run tauri dev
```

### Contributing

1. Fork the repository on GitHub
2. Create a feature branch
3. Make changes with tests
4. Submit a pull request

See [CONTRIBUTING.md](CONTRIBUTING.md) for detailed guidelines.

---

## Deployment

### Self-Hosted (pacioli-core)

```bash
git clone https://github.com/GiveProtocol/Pacioli.git
cd Pacioli
pnpm install
pnpm run tauri build
```

### Cloud Managed

Premium cloud features are deployed separately:

1. Core features from pacioli-core
2. Premium features from pacioli-enterprise
3. Infrastructure via pacioli-cloud
4. Automated deployment via GitHub Actions

---

## Security

- All repositories use `.gitleaks.toml` for secret scanning
- Branch protection requires PR reviews
- Dependabot enabled for dependency updates
- CodeQL scanning for security vulnerabilities

---

## Decisions Made

| Question              | Decision                           |
| --------------------- | ---------------------------------- |
| Organization name     | GiveProtocol                       |
| Naming convention     | `pacioli-*` prefix confirmed       |
| License (public)      | AGPL-3.0 (changed from MIT/Apache) |
| License (private)     | Proprietary                        |
| CI/CD                 | GitHub Actions                     |
| Documentation hosting | GitHub Pages at docs.pacioli.io    |

---

## Outstanding Items

- [ ] Plugin marketplace implementation
- [ ] Plugin revenue sharing model
- [ ] Business documents storage location (moved out of pacioli-internal)
- [ ] Mobile app (React Native + Tauri Mobile)

---

_Last updated: January 2026_
